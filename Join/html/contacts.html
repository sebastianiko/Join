<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Contacts</title>
    <link rel="icon" href="../img/Logo for Favicon construction.png">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/contactsMain.css">
    <link rel="stylesheet" href="../css/contactsMisc.css">
    <link rel="stylesheet" href="../css/contactsResponsive1.css">
    <link rel="stylesheet" href="../css/contactsResponsive2.css">
    <link rel="stylesheet" href="../css/fonts.css">
    <link rel="stylesheet" href="../css/header.css">    
    </head>
<body>
    <!-- <div w3-include-html="/templates/header_and_sidebar.html"></div> -->
    <div includeHTML="header.html"></div>

    <div class="add-contact-pop-up-overlay" id="add-contact-pop-up-overlay">
        <div class="add-contact-pop-up" id="add-contact-pop-up">
            <div class="add-contact-pop-up-left">
                <div class="add-contact-pop-up-left-title">
                    <img class="add-contact-pop-up-img" src="../img/JoinIcon.png" alt="">
                    <div>
                        <h1 class="h1-contact">Add contact</h1>
                        <p class="p-contact">Tasks are better with a team!</p>
                        <img src="../img/Vector_5.png" alt="">
                    </div>
                </div>            
            </div>
            <div class="add-contact-pop-up-mid">
                <div class="contact-circle-grey">
                    <img src="../img/person.png" alt="">
                </div>
            </div>
            <div class="close-contact-form" onclick="closePopup()">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.9998 8.40005L2.0998 13.3C1.91647 13.4834 1.68314 13.575 1.3998 13.575C1.11647 13.575 0.883138 13.4834 0.699805 13.3C0.516471 13.1167 0.424805 12.8834 0.424805 12.6C0.424805 12.3167 0.516471 12.0834 0.699805 11.9L5.5998 7.00005L0.699805 2.10005C0.516471 1.91672 0.424805 1.68338 0.424805 1.40005C0.424805 1.11672 0.516471 0.883382 0.699805 0.700049C0.883138 0.516715 1.11647 0.425049 1.3998 0.425049C1.68314 0.425049 1.91647 0.516715 2.0998 0.700049L6.9998 5.60005L11.8998 0.700049C12.0831 0.516715 12.3165 0.425049 12.5998 0.425049C12.8831 0.425049 13.1165 0.516715 13.2998 0.700049C13.4831 0.883382 13.5748 1.11672 13.5748 1.40005C13.5748 1.68338 13.4831 1.91672 13.2998 2.10005L8.3998 7.00005L13.2998 11.9C13.4831 12.0834 13.5748 12.3167 13.5748 12.6C13.5748 12.8834 13.4831 13.1167 13.2998 13.3C13.1165 13.4834 12.8831 13.575 12.5998 13.575C12.3165 13.575 12.0831 13.4834 11.8998 13.3L6.9998 8.40005Z" fill="white"/>
                    </svg>
            </div>
            <div class="add-contact-container" id="addContactContainer">     
            <form id="addContactForm" novalidate>
                <div class="input-field">
                    <input id="addNewName" class="input-log-in" type="text" placeholder="Name" required>
                    <img src="../img/user.png" alt="user icon" class="icon">
                </div>
                <div id="addNameError" class="error-message">Please enter both a first and last name.</div>

                <div class="input-field">
                    <input id="addNewEmail" class="input-log-in" type="email" placeholder="Email" required>
                    <img src="../img/mail.png" alt="mail icon" class="icon">
                </div>
                <div id="addEmailError" class="error-message">Please enter a valid email.</div>
    
                <div class="input-field">
                    <input id="addNewPhone" class="input-log-in" type="tel" placeholder="Phone" pattern="[0-9]*">
                    <img src="../img/phone.png" alt="phone icon" class="icon">
                </div> 
                <div id="addPhoneError" class="error-message">Please enter digits only.</div>   
    
                <div class="contact-form-btn-container">
                    <button class="btn-guest-log-in btn-cancel-contact-form" id="cancelContact">cancel <svg id="cancel-icon" width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.001 6.50008L12.244 11.7431M1.758 11.7431L7.001 6.50008L1.758 11.7431ZM12.244 1.25708L7 6.50008L12.244 1.25708ZM7 6.50008L1.758 1.25708L7 6.50008Z" stroke="#2A3647" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg></button>
                    <button type="submit" class="btn-log-in btn-create-contact-form" id="createContact">Create contact <img src="../img/check.png" alt=""></button>
                </div>              
            </form>
    
            </div>
        </div>
    </div>  
    
    <div class="edit-contact-pop-up-overlay" id="edit-contact-pop-up-overlay">
        <div class="edit-contact-pop-up" id="edit-contact-pop-up">
            <div class="add-contact-pop-up-left">
                <div class="add-contact-pop-up-left-title">
                    <img class="add-contact-pop-up-img" src="../img/JoinIcon.png" alt="">
                    <div>
                        <h1 class="h1-contact">Edit contact</h1>
                        <img src="../img/Vector_5.png" alt="">
                    </div>
                </div>            
            </div>
            <div class="add-contact-pop-up-mid" id="editContactIcon"></div>

            <div class="close-contact-form" onclick="closeEditPopup()">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6.9998 8.40005L2.0998 13.3C1.91647 13.4834 1.68314 13.575 1.3998 13.575C1.11647 13.575 0.883138 13.4834 0.699805 13.3C0.516471 13.1167 0.424805 12.8834 0.424805 12.6C0.424805 12.3167 0.516471 12.0834 0.699805 11.9L5.5998 7.00005L0.699805 2.10005C0.516471 1.91672 0.424805 1.68338 0.424805 1.40005C0.424805 1.11672 0.516471 0.883382 0.699805 0.700049C0.883138 0.516715 1.11647 0.425049 1.3998 0.425049C1.68314 0.425049 1.91647 0.516715 2.0998 0.700049L6.9998 5.60005L11.8998 0.700049C12.0831 0.516715 12.3165 0.425049 12.5998 0.425049C12.8831 0.425049 13.1165 0.516715 13.2998 0.700049C13.4831 0.883382 13.5748 1.11672 13.5748 1.40005C13.5748 1.68338 13.4831 1.91672 13.2998 2.10005L8.3998 7.00005L13.2998 11.9C13.4831 12.0834 13.5748 12.3167 13.5748 12.6C13.5748 12.8834 13.4831 13.1167 13.2998 13.3C13.1165 13.4834 12.8831 13.575 12.5998 13.575C12.3165 13.575 12.0831 13.4834 11.8998 13.3L6.9998 8.40005Z" fill="white"/>
                    </svg>
            </div>
            <div class="add-contact-container" id="addContactContainer">     
            <form id="editContactForm" novalidate>
                <div class="input-field">
                    <input id="editName" class="input-log-in" type="text" placeholder="Name" required>
                    <img src="../img/user.png" alt="user icon" class="icon">
                </div>
                <div id="editNameError" class="error-message">Please enter both a first and last name.</div>

                <div class="input-field">
                    <input id="editEmail" class="input-log-in" type="email" placeholder="Email" required>
                    <img src="../img/mail.png" alt="mail icon" class="icon">
                </div>
                <div id="editEmailError" class="error-message">Please enter a valid email.</div>
    
                <div class="input-field">
                    <input id="editPhone" class="input-log-in" type="tel" placeholder="Phone" pattern="[0-9]*">
                    <img src="../img/phone.png" alt="phone icon" class="icon">
                </div>
                <div id="editPhoneError" class="error-message">Please enter digits only.</div>

                <input type="hidden" id="editIsRegistered" name="isRegistered">
    
                <div class="contact-form-btn-container">
                    <button type="button" id="deleteContactButton" class="btn-guest-log-in btn-cancel-contact-form">Delete</button>
                    <button type="button" id="updateButton" class="btn-log-in btn-create-contact-form">Save <img src="../img/check.png" alt=""></button>
                </div>              
            </form>
    
            </div>
        </div>
    </div>  

    <div class="contacts-container">
        <div class="contacts" id="contacts">
            <button onclick="openPopup('add-contact-pop-up-overlay', '.add-contact-pop-up')" class="btn-log-in btn-add-new-contact">Add new contact <img src="../img/person_add.png" alt=""></button>
            <button onclick="openPopup('add-contact-pop-up-overlay', '.add-contact-pop-up')" class="btn-log-in btn-add-new-contact-mobile"><img src="../img/person_add.png" alt=""></button>
            <div class="contactlist" id="contactList"></div>            
        </div>
    
        <div class="contact-detail-section" id="contactDetailSection">
            <div class="contact-details-header">
                <p>Contacts</p>
                <div class="line-full"></div>
                <span>Better with a team</span>
                <div class="line-mobile"></div>
                <img id="backToContactlist" src="../img/Vector_resp.png" alt="Arrow back" onclick="goBackToContactList()">
            </div> 
            
            <div class="contact-detail-information" id="contactDetailInformation"></div> 
             
            <div id="successAlert" class="success-alert-container">
                <div class="success-alert">Contact successfully created</div>
            </div>      
        </div>    
    </div>             
   
    <script src="../js/utils.js"></script>
    <script src="../js/header.js"></script> 
    <script src="../js/logout.js"></script>
    <script src="../js/contactsHTML.js"></script>
    <script src="../js/contactsUI.js"></script>
    <script src="../js/contacts.js"></script>
    <script src="../js/contactHandling.js"></script>
    <script src="../js/contactValidation.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", async () => {
            await includeHTML();
            updateUserProfileIcon();
        });
    </script>
</body>
</html>